# -*- tcl -*-
# Testsuite string::token::shell
#
# Copyright (c) 2013 by Andreas Kupries <andreas_kupries@users.sourceforge.net>
# All rights reserved.

# -------------------------------------------------------------------------

source [file join \
	[file dirname [file dirname [file join [pwd] [info script]]]] \
	devtools testutilities.tcl]

testsNeedTcl     8.5
testsNeedTcltest 2.0

support {
    use      fileutil/fileutil.tcl  fileutil
    useLocal token.tcl              string::token
}
testing {
    useLocal token_shell.tcl string::token::shell
}

# -------------------------------------------------------------------------

test string-token-shell-1.0 {string token shell, wrong#args} -body {
    string token shell
} -returnCodes error -result {wrong # args: should be ""}

test string-token-shell-1.1 {string token shell, wrong#args} -body {
    string token shell T X
} -returnCodes error -result {wrong # args: should be ""}

# -------------------------------------------------------------------------

foreach {n label line tokens} {
    0 empty               {}        {}
    1 leading-whitespace  {  }      {}
    2 plain-words         {a}       {a}
    3 plain-words         {a b}     {a b}
    4 trailing-whitespace {a b c  } {a b c}
    5 inter-whitespace    {a   b}   {a b}
    6 single-quoted-words {'a' b}   {a b}
    7 single-quoted-words {a 'b'}   {a b}
    8 single-quoted-words {a 'b' c} {a b c}
    9 single-quoted-words {a '' c}  {a {} c}
    10  double-quoted-words {"a" b}   {a b}
    11 double-quoted-words {a "b"}   {a b}
    12 double-quoted-words {a "b" c} {a b c}
    13 double-quoted-words {a "\"" c} {a b c}
    14 double-quoted-words {a "" c}  {a {} c}
} {
    test string-token-shell-2.$n "string token shell, $label" -body {
	string token shell $line
    } -result $tokens
}

#----------------------------------------------------------------------
testsuiteCleanup
return
