2002-10-14  Andreas Kupries  <andreas_kupries@users.sourceforge.net>

	* pop3.tcl (pop3::retrieve): Changed conditionals around [scan] to
	  check for the actual number of conversions required to make the
	  code work, instead of < 0. This fixes bug 620062.

2002-09-04  Andreas Kupries  <andreas_kupries@users.sourceforge.net>

	* srv.tcl: Extended to cleanup the fake maildrop directories when
	  exiting the server.

	* pop3.test: Updated to handle differences between 8.3 and 8.4
	  (different error messages). Added code to suppress logging under
	  normal circumstances. Extended to clean up the log file created
	  by the test pop3 server.

2002-09-03  Andreas Kupries  <andreas_kupries@users.sourceforge.net>

	* pop3.test: Added testcase 6.0, a nano-client to retrieve and
	  delete all messages on a pop server in one go. Directly derived
	  from the script for Tcllib bug #501577. Unable to reproduce that
	  bug :(
	
	* pop3.test:
	* clnt.tcl:
	* srv.tcl: Added testsuite. Incomplete. No test of 'delete'
	  command yet. The problems found by the testsuite so far were all
	  in the used pop3 server (pop3d module of tcllib).

2002-03-25  Andreas Kupries  <andreas_kupries@users.sourceforge.net>

	* pop3.man: New file, doctools manpage.

2002-01-15  Andreas Kupries  <andreas_kupries@users.sourceforge.net>

	* Bumped version to 1.5.1

2001-12-11  Andreas Kupries  <andreas_kupries@users.sourceforge.net>

	* pop3.tcl (retrieve): Forgot several 'RETR $index'
	  commands. Fixed now. This is tcllib bug item #490151 reported by
	  an unknown person.

2001-10-16  Andreas Kupries  <andreas_kupries@users.sourceforge.net>

	* pop3.n:
	* pop3.tcl:
	* pkgIndex.tcl: Version up to 1.5

2001-08-20  Andreas Kupries  <andreas_kupries@users.sourceforge.net>

	* pop3.tcl: Added UIDL command, patch [448634] by Mark G. Saye
	  <markgsaye@users.sourceforge.net>. Code was added manually as
	  the patch was not applicable anymore after the recent changes
	  (see below). Updated implementation of UIDL to use the new
	  command [RetrSlow] instead of performing the retrieval by
	  itself. Also updated the implementations of the TOP and LIST
	  commands to do the same.

2001-08-02  Andreas Kupries  <andreas_kupries@users.sourceforge.net>

	* pop3.n: Updated to new package version, see [447013] too.

	* pop3.tcl: Lots of changes with regard to items [443613] and
	  [443645]. Switched auto back to binary (or else the counting of
	  octects is not right and we will hang trying to read more than
	  is coming from the server). This means we have to perform EOL
	  translation on the message on our own, this was effectively an
	  unreported bug. also unreported was that the faster code did not
	  do .-unstuffing, which the slower line-by-line code did. This is
	  now fixed too. My thanks to Ashwin Hirschi
	  <deery@users.sourceforge.net> for his help in testing the code.

2001-07-31  Andreas Kupries <andreas_kupries@users.sourceforge.net>

	* pkgIndex.tcl: Updated to reflect pkg version in the code. After
	  the fact comment: This also fixes SF bug [447013]

	* pop3.tcl: Added 'state' variable to remember state information
	  about the active (= open) pop3 connections. This state includes
	  information about the retrieval mode to use and whether we are
	  talking to an MS Exchange server or not. MS Exchange can't be
	  set automatically for now, but the retrieval mode is
	  auto-detected. Because of the former, pop3::open now accepts the
	  options -msex and -retr-mode. This should allay and fix the SF
	  bugs [443613] and [443645].

	  (pop3::list): Fixed bug [443619].

2001-06-21  Andreas Kupries <andreas_kupries@users.sourceforge.net>

	* pop3.tcl: Fixed dubious code reported by frink.

2001-01-24  Scott Redman  <redman@tivo.com>

	* pop3.tcl: Fixed a bug when getting the "." back
	with extra \r by adding a [string trimright $line].
	Reported by Joe English, [bug: 124477].

2000-09-14  Scott Redman  <redman@ajubasolutions.com>

	* pop3.tcl: Based on feedback from Cameron Laird, I did some
	digging into the RFC and figured out that using the number of
	octets given by RETR at the beginning of the retrieval to grab
	that number of bytes was far more efficient.  Thanks to Cameron
	for pointing that out.  Speed for retrieval should be greatly
	improved.  Changed version to 1.1.

2000-05-18  Scott Redman  <redman@scriptics.com>

	* pop3.tcl:
	* pop3.n:  Applied patch from Petteri Kettunen to add the LIST and
	TOP implementations.  See RFC1939.  Also removed a spurious puts
	command.  [bug: 5426]

2000-05-17  Scott Redman  <redman@scriptics.com>

	* pop3.tcl:  Remove extra '.'s added by the POP3 server.  If a
	line begins with a '.', the server will add a '.' to the line to
	prevent confusion with the end-of-message character (which is also
	'.'). [bug: 5522]

2000-03-06  Scott Redman  <redman@scriptics.com>

	* ChangeLog:
	* man.macros:
	* pkgIndex.tcl:
	* pop3.n:
	* pop3.tcl:  New POP3 email client API, inspired by Scott
	Beasley's "frenchie" email client program.  
